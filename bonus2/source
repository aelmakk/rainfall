#include <stdio.h>
#include <string.h>
#include <unistd.h>

void greetuser(char *str)
{
    char msg[];
    int language;
    
    if (language == 1) {
          msg = "Hyvää päivää "; // good day
    }
    else if (language == 2) {
          msg = "Goedemiddag! "; //good afternoon
    }
    else if (language == 0) {
          msg = "Hello "
    }
    strcat(msg, str); // str is at ebp +8 , argv[1]
    puts(msg);
    return;
}

int     main(int argc, char *argv[])
{
    void *ptr;
    char buff3[76];
    bool flag;
    undefined4 buff1 [10];
    char *buff2 [36];
    char *lang;

    flag = 0;
    if (argc == 3)
    {
        ptr = buff1;
        bzero(buff, 76);
        strncpy(buff1, argv[1], 40);
        strncpy(buff2, argv[2], 32);
        lang = getenv("LANG");
        if (lang) {
            if (memcmp(lang, "fi", 2) == 0)
              language = 1;
            else if (memcmp(lang, "nl", 2) == 0)
                language = 2;
        }
        ptr = buff1;
        puVar4 = (undefined4 *)&stack0xffffff50;
        for (count = 0x13; iVar2 != 0; iVar2 = iVar2 + -1) {
          *puVar4 = *ptr;
          ptr = ptr + flag * -2 + 1;
          puVar4 = puVar4 + flag * -2 + 1;
        }
        ret = greetuser(argv[1]);
    }

    return (0);
}